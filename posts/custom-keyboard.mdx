---
title: "Custom Keyboard"
date: "2023-10-04"
---

In early 2023, I made a small prototype pcb of a macropad using a battam cnc. This was a 4x4 macropad that tried out the concepts of a diode matrix and pcb cutting. It led to 4 header pins that I connected to a breadboard with a Adafruit Bluefruit. It was choosen because it uses the widely supported Atmega32u4-au while having bluetooth. I flashed the microchip with [qmk](https://github.com/flooof/qmk_firmware) and then tested bluetooth connectivity. After that I added knob support using a tc11 rotary encoder and was able to use it to control volume. 

I was busy for a while so was not able to work on it but continued the project in April of 2024 as a Passion Project for a class. This time I am building a 42% keyboard, this layout was choosen as it is the smallest with all the letters and important keys. Last time, I used the middle school's cnc which the teacher has made many pcbs on but now in high school the teacher has never made a pcb so I had to learn how to use the machine my self. I designed the schematic and the pcb in kicad and then used flatcam to convert the pcb into simple paths for the cnc to follow. I engraved the keyboard on a carbide nomad 883. I had to use a two sided pcb because the pathes were very complicated because I wanted to not use a external microchip header board but solder the microchip directly which requres wiring for things such as the clock, usb, and the decopling capacitors. I can use vias which connect the two sides of the pcb where I want. My next steps for this project is a case and then rgb.

First prototype was to learn to use the cam software, flat cam crashes if you look at it the wrong way and i spent at least 4 hours trying to get it to work. it finaly work but i forgot to turn on the spindle so the cnc drove the bit straight into the stock, i tested regardlessly and as expected, it destroyed all the traces.

I added more tolorence on a second prootype to compensate for the broken bit while i waited for a new bit to ship, the second iternation also tried doble sided cuting and alignment using dowels. It was a succes as the two sides were alighned perfectly.

